# Jaeger 配置範例
# 請複製此檔案為 .env 並根據您的環境調整設定

# ===== Jaeger 服務端口配置 =====
# Jaeger UI Web 介面端口
JAEGER_UI_PORT=16686

# OpenTelemetry Protocol (OTLP) 端口
JAEGER_OTLP_GRPC_PORT=4317
JAEGER_OTLP_HTTP_PORT=4318

# Jaeger Collector 端口
JAEGER_COLLECTOR_HTTP_PORT=14268
JAEGER_COLLECTOR_GRPC_PORT=14250

# Jaeger Agent 端口 (UDP)
JAEGER_AGENT_COMPACT_PORT=6831
JAEGER_AGENT_BINARY_PORT=6832

# Zipkin 相容性端口
ZIPKIN_PORT=9411

# ===== 應用程式 OpenTelemetry 配置 =====
# Jaeger 端點設定 (請根據部署位置調整)
# 本地開發
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# 遠端部署範例
# OTEL_EXPORTER_OTLP_ENDPOINT=http://your-server-ip:4318

# 服務名稱與版本
OTEL_SERVICE_NAME=service-booking-api
OTEL_SERVICE_VERSION=1.0.0

# 追蹤導出器
OTEL_TRACES_EXPORTER=otlp

# ===== 取樣策略配置 =====
# 取樣器類型
# - always_on: 總是取樣
# - always_off: 永不取樣
# - traceidratio: 基於 trace ID 的機率取樣
# - parentbased_always_on: 如果父 span 被取樣，則取樣
# - parentbased_always_off: 如果父 span 未被取樣，則不取樣
# - parentbased_traceidratio: 根據父 span 狀態和 trace ID 決定
OTEL_TRACES_SAMPLER=parentbased_traceidratio

# 取樣率 (0.0 - 1.0)
# 開發環境建議: 1.0 (100% 取樣)
# 測試環境建議: 0.5 (50% 取樣)
# 生產環境建議: 0.1 (10% 取樣)
OTEL_TRACES_SAMPLER_ARG=0.1

# ===== Jaeger 儲存配置 =====
# BadgerDB 資料保留時間
# 格式: Nh (小時), Nd (天)
# 預設: 168h (7天)
BADGER_SPAN_TTL=168h

# 日誌級別
# 可選: debug, info, warn, error
JAEGER_LOG_LEVEL=info

# ===== 環境標識 =====
# 部署環境
NODE_ENV=development
# NODE_ENV=production

# 應用程式配置
# 主機名稱 (用於識別不同的服務實例)
HOSTNAME=local-dev

# ===== 認證配置 (選用) =====
# 如果 Jaeger 配置了認證，請設定此項
# JAEGER_AUTH_TOKEN=your-auth-token-here